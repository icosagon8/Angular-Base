<app-header></app-header>

<div class="form-wrapper">
    <h1 class="title">Registration</h1>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="name">Name</label>
            <input
                id="name"
                type="text"
                name="name"
                autocomplete="off"
                formControlName="name"
            />
            <div *ngIf="name?.invalid && (name?.dirty || name?.touched)" class="alert">
                <div *ngIf="name?.hasError('required')">Password is required.</div>
            </div>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input
                id="email"
                type="email"
                name="email"
                autocomplete="off"
                formControlName="email"
            />
            <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="alert">
                <div *ngIf="email?.hasError('required')">Email is required.</div>
                <div *ngIf="email?.hasError('forbiddenEmail')">
                    Invalid email address.
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <div class="password">
                <input
                    id="password"
                    type="password"
                    name="password"
                    formControlName="password"
                    appShowPassword
                    #passwordVisibility="appShowPassword"
                />
                <fa-icon
                    class="password-icon"
                    [icon]="showPassword ? 'eye-slash' : 'eye'"
                    (click)="onToggle(passwordVisibility)"
                ></fa-icon>
            </div>
            <div
                *ngIf="password?.invalid && (password?.dirty || password?.touched)"
                class="alert"
            >
                <div *ngIf="password?.hasError('required')">Password is required.</div>
            </div>
        </div>
        <button
            class="btn-registration"
            common-button
            type="submit"
            text="Registration"
            [disabled]="!form.valid"
        ></button>
        <p class="text">If you have an account you can <a href="#">Login</a></p>
    </form>
</div>
